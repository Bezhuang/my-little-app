# ==================== 基础配置 ====================
spring.application.name=my-little-app-backend
server.port=8080

# ==================== 文件上传配置 (max 50MB) ====================
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=100MB

# ==================== JWT 配置 ====================
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000

# ==================== DeepSeek AI 配置 ====================
deepseek.api.key=${DEEPSEEK_API_KEY}
deepseek.api.base-url=https://api.deepseek.com
deepseek.model=${DEEPSEEK_MODEL}
deepseek.reasoner-model=${DEEPSEEK_REASONER_MODEL}
deepseek.max.tokens=${DEEPSEEK_MAX_TOKENS}

# ==================== Bocha Web Search API ====================
bocha.websearch.api.key=${BOCHA_API_KEY}

# ==================== SiliconFlow AI 配置 ====================
siliconflow.api-key=${SILICONFLOW_API_KEY}
siliconflow.base-url=https://api.siliconflow.cn/v1
siliconflow.model=${SILICONFLOW_MODEL}
siliconflow.reasoner-model=${SILICONFLOW_REASONER_MODEL}
siliconflow.max-tokens=${SILICONFLOW_MAX_TOKENS}

# ==================== 数据库配置 ====================
spring.datasource.type=com.alibaba.druid.pool.DruidDataSource
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}

# ==================== Druid 连接池配置 ====================
spring.datasource.druid.initial-size=5
spring.datasource.druid.min-idle=5
spring.datasource.druid.max-active=20
spring.datasource.druid.max-wait=60000
spring.datasource.druid.time-between-eviction-runs-millis=60000
spring.datasource.druid.min-evictable-idle-time-millis=300000
spring.datasource.druid.validation-query=SELECT 1
spring.datasource.druid.test-while-idle=true
spring.datasource.druid.test-on-borrow=false
spring.datasource.druid.test-on-return=false
spring.datasource.druid.pool-prepared-statements=true
spring.datasource.druid.max-pool-prepared-statement-per-connection-size=20

# ==================== MyBatis 配置 ====================
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=com.bezhuang.my_little_app_backend.entity
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl

# ==================== 日志配置 ====================
logging.level.com.bezhuang.my_little_app_backend=INFO
logging.level.org.springframework.security=INFO

# ==================== 邮件配置 ====================
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# ==================== Redis 配置 ====================
# 启用 Redis 缓存（设置为 false 则不使用缓存，降级为无缓存模式）
redis.enabled=${REDIS_ENABLED}
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT}

# ==================== CORS 配置 ====================
cors.allowed-origins=${CORS_ALLOWED_ORIGINS}
